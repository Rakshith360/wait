 <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pro Voice Calculator</title>
<style>
  body {
    font-family: 'Segoe UI', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background: #f0f2f5;
    margin: 0;
  }
  .calculator {
    background: #fff;
    padding: 30px 40px;
    border-radius: 12px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    text-align: center;
    width: 350px;
  }
  .display {
    width: 100%;
    height: 50px;
    font-size: 24px;
    padding: 10px;
    margin-bottom: 20px;
    border-radius: 8px;
    border: 1px solid #ccc;
    text-align: right;
    background: #f7f7f7;
  }
  button {
    padding: 12px 25px;
    font-size: 16px;
    margin: 5px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: 0.2s;
  }
  button:hover { opacity: 0.9; }
  .mic-btn { background: #ff4d4f; color: #fff; }
  .calculate-btn { background: #1890ff; color: #fff; }
  .clear-btn { background: #52c41a; color: #fff; }
</style>
</head>
<body>

<div class="calculator">
  <div id="display" class="display">0</div>
  <button class="mic-btn" id="micBtn">ðŸŽ¤ Start Speaking</button>
  <button class="calculate-btn" id="calcBtn">Calculate</button>
  <button class="clear-btn" id="clearBtn">Clear</button>
</div>

<script>
  const display = document.getElementById('display');
  const micBtn = document.getElementById('micBtn');
  const calcBtn = document.getElementById('calcBtn');
  const clearBtn = document.getElementById('clearBtn');

  let expression = '';
  let recognizing = false;
  let recognition;

  // Check for Web Speech API support
  if ('webkitSpeechRecognition' in window) {
    recognition = new webkitSpeechRecognition();
    recognition.continuous = true;
    recognition.interimResults = true;
    recognition.lang = 'en-US';

    recognition.onresult = (event) => {
      let interimTranscript = '';
      for (let i = event.resultIndex; i < event.results.length; ++i) {
        const transcript = event.results[i][0].transcript.trim();
        if (event.results[i].isFinal) {
          expression += parseSpeech(transcript);
        } else {
          interimTranscript += transcript;
        }
      }
      display.textContent = expression + interimTranscript;
    };

    recognition.onend = () => {
      recognizing = false;
      micBtn.textContent = 'ðŸŽ¤ Start Speaking';
    };
  } else {
    alert('Your browser does not support Speech Recognition. Please use Chrome.');
  }

  function parseSpeech(speech) {
    // Convert words to operators
    return speech
      .replace(/plus/gi, '+')
      .replace(/minus/gi, '-')
      .replace(/times|multiply/gi, '*')
      .replace(/divide/gi, '/')
      .replace(/ /g, '');
  }

  micBtn.addEventListener('click', () => {
    if (recognizing) {
      recognition.stop();
    } else {
      recognition.start();
      recognizing = true;
      micBtn.textContent = 'ðŸŽ¤ Listening... Click to Stop';
    }
  });

  calcBtn.addEventListener('click', () => {
    try {
      const result = eval(expression);
      display.textContent = result;
      expression = result.toString();
    } catch (err) {
      display.textContent = 'Error';
      expression = '';
    }
  });

  clearBtn.addEventListener('click', () => {
    expression = '';
    display.textContent = '0';
  });
</script>

</body>
</html>
